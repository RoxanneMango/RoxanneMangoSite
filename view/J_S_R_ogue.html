<!DOCTYPE html>
<html lang="en-US">
	<header>
		<link rel="stylesheet" href="style.css">
	</header>

	<h3>J_S_R_ogue</h3>
	<hr>
	<img src="assets/J_S_R_ogue.png" style="width: 30em; height: auto; float:right; padding-left: 1em;"/>
	<p>
		A few years ago I discovered the existence of the International Obfuscated C Code Contest (IOCCC).
		I was enthralled and wanted to participate, ofcourse! I had just missed the contest by a few weeks (sad),
		but I figured I could make something for fun to practise for next year. That is how J_S_R_ogue came into
		existence. It is a rogue-like dungeon crawler where you have to collect coins and avoid enemies as you go down
		the 100 procedurally generated cave levels. I made this together with two 
		other people: Jan and Simon (hence the J_S_R in the name).
	</p>
	<p>
		The code is written in obfuscated C. The contest also put a limit on how big your code was allowed to be, 
		so we had to get quite creative. We abused the preprocessor to high hell to compress as much of the code 
		as possible, and basically threw out all the basic coding standards known to man (naturally), to compress 
		it even further and make it as illegible as possible. In the end it ended up looking like one big ASCII-art 
		looking block of characters. Success!
	</p>
	<p>
		Unfortunately the contest is on hiatus right now so the code is sitting in its repository, waiting, but perhaps 
		one day it can appear in front of the IOCCC judges. Maybe by then we can make the code even more disgusting! I 
		am looking forward to that.
	</p>
	<hr>
	<pre class="code"><code class="code">
#define m 1920
#define B mvinch
#include &lt;time.h&gt;
#define A mvaddch
#include &lt;stdlib.h&gt;
#include &lt;ncurses.h&gt;
#define J for(i=l;i&lt;m;++i)
#define X i=N(),x=i%l,y=i/l
#define G(x) ((x&lt;l)|(x&gt;1839)|!((-~x&~1)%l))
#define Q(a,o,i,O,j) (a o i&&a+j!=E[j-1] O l)
#define Y(a) i=N();S[a]=(i/l)*j;S[a+1]=(i%l)*j;
#define F for(j=6*c;j&lt;(6*c)+(c&lt;100?6+c/5:0);j++)
#define K(a,i,j) if(!(H^a)&&w(y+i,x+j)){y+=i;x+=j;}
#define w(y,x) ((B(y,x)^35)&&(B(y,x)^94)&&(B(y,x)^64))
#define W(y,x,i,j) ((w(y+i,x+j))&&(B(y+i,x+j)^62)&&(B(y+i,x+j)^60))
#define L(j,i) if(y==S[1+j]&&x==S[2+j]){c+=i;s+=i;M();y=S[1+i];x=S[2+i];}
#define Z(x,z,y,io) R=x?x:R,fseek(f=fopen(*a,#y),-4*6*R,2);for(i=0;i&lt;(x?\
x:5*R);i++)io(z,4,x?6*x:x+1,f);fclose(f)
int D[m],E[m],I[m],S[4],i,j,x,y,H,c,q,t,
v,s,R,C,V,p=10,h=10,r=1,P=0x45464153,l=80; int N(){return D[i=rand()%m]==
46?i:N();}void M(){q++;srand(s);J D[i]=!(((-~i&~1)%l)&&(i/l&lt;13)&&(i/l&gt;p))
&&(G(i)|((rand()%0x64)&lt;45))?35:46;for(j=0;j&lt;2;j++)J r=i%600,r[E]=r[I]=j,D
[i]=G(i)?D[i]:(D[i-81]+D[i-l]+D[i-79]+D[i-1]+D[i]+D[i+1]+D[i+81]+D[
i+l]+D[i+79])&lt;360?35:46;j=c&lt;100;Y(0);j=c&gt;0;Y(2);srand(s*q);F E[j]=E
[j]?N():0,I[j]=I[j]?N():0;}int main(int _,char**a){FI\
LE*f;char g[]={"P`lob7\"ayem7%\"a,\"a&ycillo7\"a\x1D"}
;initscr();noecho();curs_set(0);while(*(g+j)^0)*(g+
j++)+=3;s=time(0);M();X;fseek(f=fopen(*a,"rb"),-
4,2);fread(&V,4,1,f);R=(V==P);fclose(f);V=p;C=t+
V;while(r){K(119,-1,0)K(97,0,-1)K(115,1,0)K(100
,0,1)L(-1,1) else L(1,-1)F{I[j]=(I[j]/l==y)&&(I
 [j]%l==x)?++v,A(y,x,64),move(y,x),0:I[j];int
a=E[j]/l,b=E[j]%l,yd=abs(a-y),xd=abs(b-x),f=\
rand()%4;E[j]+=t%2?yd&lt;=p&&xd&lt;=p?xd&lt;=yd?y&lt;=
a?W(a,b,-1,0)*Q(a,&gt;,0,/,-1)*-l:W(a,b,1,0)*
Q(a,&lt;,24,/,1)*l:(x&lt;=b)?-W(a,b,0,-
1)*Q(b,&gt;,0,%,-1):W(a,b,0,1)
*Q(b,&lt;,l,%,1):f?f==1?-(W(a
,b,0,-1)&&(E[j])):f==2?(W(
a,b,1,0)&&(E[j]&lt;(m-l
)))*l:W(a,b,0,1)&(E[
j]&lt;m):(W(a,b,-1,0)&
(E[j]&gt;l))*-l:0;h-=(
yd==1)&!xd||!yd&(xd
==1)?1+rand()%2:0;}
if(h&lt;1||c&gt;99||H==1\
13)return endwin();
J{A(i/l,i%l,D[i]);F 
I[j]==i?A(i/l,i%l,\
36):0,E[j]==i?A(i/l
,i%l,94):0;}c&lt;99?A(
*S,S[1],62):0;c?A(S
[2],S[3],60):0;A(y,
x,64);mvprintw(0,0,
g,v,h,p,c);refresh(
);H=getch();int o[]
={s,c,y,x,v,P};int*
u[]={&s,&c,&y,&x,&v
}; if(H==49){Z(1,o,
wb,fwrite);} if(H==
50){Z(0,u[i],rb,fr\
ead);M();} if(H==1\
16&&v&gt;=3)X,v-=3; if
(t++==C)h+=h&lt;p,C=t+
V;}}
	</code></pre>
</html>